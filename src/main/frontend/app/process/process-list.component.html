<div class="container">
  <div class="row">
    <div class="col-md-12">

      <form>
        <div class="form-group">
          <input type="text"
                 ng-model="$ctrl.selectedProcessName"
                 placeholder="Enter process id or search by name"
                 uib-typeahead="processName for processName in $ctrl.processNames"
                 typeahead-select-on-exact="true"
                 typeahead-on-select="$ctrl.onProcessSelected($item, $model, $label, $event)"
                 typeahead-no-results="noResults" class="form-control">

          <div ng-show="noResults">
            <i class="fa fa-remove"></i> No processes found
          </div>
        </div>
      </form>

      <div ng-if="$ctrl.selectedProcess">

        <h4>
          {{$ctrl.selectedProcess.processName}}

          <br/>
          <small>#{{$ctrl.selectedProcess.processID}}</small>
        </h4>

        <uib-tabset>
          <uib-tab>
            <uib-tab-heading>
              Equipment
            </uib-tab-heading>

            <table class="table table-striped table-hover table-condensed">
              <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
              </tr>
              </thead>

              <tbody>
              <tr ng-repeat="equipment in $ctrl.selectedProcess.equipmentConfigurations" ng-click="$ctrl.onEquipmentSelected(equipment)">
                <td>{{equipment.id}}</td>
                <td>{{equipment.name}}</td>
              </tr>
              </tbody>
            </table>
          </uib-tab>

          <uib-tab ng-repeat="equipment in $ctrl.selectedEquipment" active="equipment.active">
            <uib-tab-heading>
              {{equipment.name}}
            </uib-tab-heading>

            <h4>
              <small>#{{equipment.id}}</small>
            </h4>

            <dl class="dl-horizontal">
              <dt>CommFault tag ID</dt>
              <dd>{{equipment.commFaultTagId}}</dd>
              <dt>CommFault tag value</dt>
              <dd>{{equipment.commFaultTagValue}}</dd>
              <dt>Alive tag ID</dt>
              <dd>{{equipment.aliveTagId}}</dd>
              <dt>Alive tag interval</dt>
              <dd>{{equipment.aliveTagInterval}}</dd>
              <dt>Handler class</dt>
              <dd>{{equipment.handlerClassName}}</dd>
              <dt>Address</dt>
              <dd>{{equipment.address}}</dd>
            </dl>

            <uib-tabset>
              <uib-tab>
                <uib-tab-heading>Tags</uib-tab-heading>

                <table class="table table-hover table-condensed">
                  <thead>
                  <tr>
                    <th class="col-md-1">ID</th>
                    <th class="col-md-5">Name</th>
                    <th class="col-md-1">Data Type</th>
                    <th class="col-md-1">Control</th>
                    <th class="col-md-1">Mode</th>
                  </tr>
                  </thead>

                  <tbody>
                  <tr ng-repeat="tag in equipment.sourceDataTags" ng-click="$ctrl.onTagSelected(tag)">
                    <td>{{tag.id}}</td>
                    <td>{{tag.name}}</td>
                    <td>{{tag.dataType}}</td>
                    <td>{{tag.controlTag}}</td>
                    <td>{{tag.mode}}</td>
                  </tr>
                  </tbody>
                </table>

              </uib-tab>

              <uib-tab>
                <uib-tab-heading>Commands</uib-tab-heading>


              </uib-tab>

              <uib-tab>
                <uib-tab-heading>Subequipment</uib-tab-heading>
              </uib-tab>
            </uib-tabset>

          </uib-tab>

        </uib-tabset>

      </div>
    </div>
  </div>
</div>
